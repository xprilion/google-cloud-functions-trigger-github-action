# google-cloud-functions-trigger-github-action

## Overview

This repository contains a utility designed to trigger GitHub Actions on any repository through API calls made from a Google Cloud Function. This is particularly useful for automating workflows in response to various events that are generated by 3rd party software, for example your CMS.

## Prerequisites

Before you begin, ensure you have the following:
- A GitHub account with a repository where GitHub Actions are configured. The action should have `workflow_dispatch` mode enabled on it. Read more about it here - [workflow_dispatch guide](https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#workflow_dispatch).
- Access to Google Cloud Platform with permissions to create and deploy Cloud Functions.
- `gcloud` CLI tool installed and configured for your Google Cloud account.
- A GitHub Personal Access Token with appropriate permissions to trigger workflows.

## Environment Setup

First, clone the repository with:

```bash
git clone git@github.com:xprilion/google-cloud-functions-trigger-github-action.git
```

Then, create a Python environment:

```bash
python -m venv .venv
```

Install the required packages:

```bash
pip install -r requirements.txt
```

Now, create a `.env` file in the root of your project with the following contents:

```
GH_TOKEN=your_github_personal_access_token
GH_USERNAME=your_github_username
GH_REPO=your_target_repository
GH_BRANCH=the_target_branch, ex: main
GH_WORKFLOW_FILENAME=name_of_the_workflow_file, ex: main.yml
```

Replace the placeholder values with your actual GitHub information and credentials.

## Usage

1. **Deploy the Cloud Function**

2. **Triggering the Workflow**: Once deployed, the Cloud Function can be triggered through HTTP requests, Pub/Sub events, or other GCP services, depending on your configuration.

3. **Monitor Executions**: Check the execution logs in the Google Cloud Console to monitor the status and output of your function.

## Contributing

Contributions to enhance `google-cloud-functions-trigger-github-action` are welcome. Please follow these steps to contribute:

1. Fork the repository.
2. Create a new branch for your feature (`git checkout -b feature/AmazingFeature`).
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`).
4. Push to the branch (`git push origin feature/AmazingFeature`).
5. Open a pull request.

## License

Distributed under the MIT License. See [LICENSE](LICENSE) for more information.

## Contact

Anubhav Singh - [@xprilion](https://twitter.com/xprilion)